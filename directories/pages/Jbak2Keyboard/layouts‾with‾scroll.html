<!DOCTYPE html><html translate="no"><head><link rel="stylesheet" href="/styles.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><meta name="viewport" content="width=device-width, initial-scale=1"><meta charset="utf-8">
<title>Раскладки с прокруткой</title>
<link rel="icon" href="/directories/files/pages‾icons/Jbak2Keyboard.png">
<meta name="theme-color" content="#0F131C">
</head><body>
Общая структура файла раскладки с прокруткой:
<tab>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Keyboard xmlns:android="http://schemas.android.com/apk/res/android" android:typeKeyboard="scroll"&gt;
&lt;Row&gt;&lt;Keys
android:arrayKeys="A"
android:arrayAnchors="B" 
android:popupCharacters="C"
/&gt;&lt;/Row&gt;
&lt;/Keyboard&gt;</tab>
<hc2><a name="android:arrayKeys">android:arrayKeys</a></hc2>
Основной атрибут. Создаёт клавиши раскладки, которые разделяются пробелами в его значении. Можно использовать <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/key‾codes.html#buttons">кнопки</a>, однако из‐за специфики прокручивающихся раскладок коды будут выполняться не все, а также возможно другое некорректное поведение. Если текст клавиши длинный, на клавише отображаются только первые символы.
<br><br>
Пример:
<tab>android:arrayKeys="1 22 333 d F w&#38;&#97;&#109;&#112;&#59; |||||| $[-5029,@№]"</tab>
Создаст клавиши <tai>1</tai>, <tai>22</tai>, <tai>333</tai>, <tai>d</tai>, <tai>F</tai>, <tai>w&</tai>, <tai>||||||</tai> и <tai>@№</tai>. При нажатии клавиши <tai>@№</tai> введётся буква <tai>a</tai>.
<hc2><a name="android:arrayAnchors">android:arrayAnchors</a></hc2>
Атрибут android:arrayAnchors создаёт на левой панели раскладки кнопки‐якоря, которые разделяются пробелами в его значении. Якоря должны соответствовать клавишам, создаваемым с помощью атрибута android:arrayKeys. В качестве якорей нельзя использовать кнопки, а также клавиши, длиной более трёх символов.
<br><br>
Например, для кода выше мы можем использовать в качестве якорей клавиши <tai>1</tai>, <tai>22</tai>, <tai>333</tai>, <tai>d</tai>, <tai>F</tai> и <tai>w&</tai>; т. е.:
<tab>android:arrayAnchors="1 22 333 d F w&#38;&#97;&#109;&#112;&#59;"</tab>
<hc2><a name="android:popupCharacters">android:popupCharacters</a></hc2>
При нажатии кнопки <img class="it" src="/directories/files/images/%24f%23%C9%96.jpg"> (<tai>$f#ɖ</tai>) на правой панели раскладки откроется <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/small‾keyboard.html#v2">маленькая клавиатура второй версии</a>
<br><br><br>
Атрибут android:popupCharacters создаёт дополнительные клавиши, которые разделяются пробелами в его значении. Здесь уже нет ограничения по количеству символов, отображаемых на клавише. Дополнительные клавиши отображаются в окне, открываемом нажатием кнопки .
<br><br>
Пример:
<tab>android:popupCharacters="d%6hjQ $[-323,{+}]"</tab>
Создаст клавиши <tai>d%6hjQ</tai> и <tai>{+}</tai>. При нажатии клавиши <tai>{+}</tai> выделится весь текст.
</body></html>

