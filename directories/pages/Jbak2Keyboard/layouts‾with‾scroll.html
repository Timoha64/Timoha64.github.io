<!DOCTYPE html><html translate="no"><head><link rel="stylesheet" href="/styles.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><meta name="viewport" content="width=device-width, initial-scale=1"><meta charset="utf-8">
<title>Раскладки с прокруткой</title>
<link rel="icon" href="/directories/files/pages‾icons/Jbak2Keyboard.png">
<meta name="theme-color" content="#0F131C">
</head><body>
Общая структура файла раскладки с прокруткой:
<tab>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Keyboard xmlns:android="http://schemas.android.com/apk/res/android" android:typeKeyboard="scroll"&gt;
&lt;Row&gt;&lt;Keys
android:arrayKeys="A"
android:arrayAnchors="B" 
android:popupCharacters="C"
/&gt;&lt;/Row&gt;
&lt;/Keyboard&gt;</tab>
<hc2>android:arrayKeys</hc2>
Основной атрибут. Создаёт клавиши раскладки.
<br><br><br>
Обязательный атрибут
<br><br>
Значения:
<ul>
<li>Любые символы. Будут показаны первые 3</li>
<li><a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/key‾codes.html#buttons">Кнопки</a></li>
</ul>
<hc2>android:arrayAnchors</hc2>
Необязательный атрибут
<br><br>
Значения:
<ul>
<li></li>
</ul>
<hc2>android:popupCharacters</hc2>
Необязательный атрибут
<br><br>
Значения:
<ul>
<li></li>
</ul>
<hr>
Все значения разделяются пробелами.
<br><br><br>
где
A, B и CD – все символы и наборы символов, которые будут показаны на раскладке.
x, xy и xyz – кнопки‐якоря, нажатие на которые перемещает список кнопок раскладки к указанному значению. Не должны быть более 3 символов, иначе такой якорь не будет показан. Если вы зададите якорь несуществующей в раскладке кнопки, то он также не будет показан.
1, 2 и 33 – кнопки, которые появятся при нажатии на кнопку с изображением клавиатуры на правой панели раскладки.
<br>
android:arrayKeys="En a b c d e f Ru а б в г д" - перечисление через пробел всех букв, символов и слов, которые будут показаны на раскладке.


Также как в автодополнении и в полноэкранной маленькой клавиатуре, в теге можно создавать кнопки, например $[-303,$f#ɬ]. Формат "$[-303,<parameters>,$f#ɬ]" тоже можно использовать, но параметры не будут действовать.
Также в этих кнопках, вместо текста названия, можно использовать значки шрифта клавиатуры - как и в других случаях - префикс $f#. Для удобного добавления, используйте код -630.
И также, как и в других механизмах реализующих кнопки, вместо кода для выполнения, можно использовать шаблон - укажите его имя.
Из-за специфики прокручивающихся раскладок, коды будут выполняться не все. А также возможно другое некорректное поведение.

Использовать кнопки в качестве якорей нельзя.

android:arrayAnchors="En Ru привет" - перечисление кнопок-якорей, нажатие на которые, перемещает список кнопок раскладки к указанному значению.
Должны полностью соответствовать одному из значений из списка arrayKeys и не должны быть более 3 символов, иначе такой якорь не будет показан.

android:popupCharacters="abc { } [ ] / \ ( )" - пользовательские кнопки, для окна полноэкранной маленькой клавиатуры.
Формат такой-же как и в описании одноимённого тега из основного типа раскладки, но v2 в начале можно не указывать.

В нашем примере, на раскладке будут выведены клавиши En,a,b,c,d,e,f,Ru,а,б,в,г,д и кнопки якорей En и Ru.
А якорь "привет" будет проигнорирован, так как его длина больше трёх символов и он отсутствует в основном списке.
И наконец, при нажатии на кнопку с изображением клавиатуры, откроется окно маленькой клавиатуры, где, вместе с клавишами которые добавит программа, будут также и клавиши abc { } [ ] / \ ( ).
</body></html>

