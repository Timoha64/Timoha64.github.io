<!DOCTYPE html><html translate="no"><head><link rel="stylesheet" href="/styles.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><meta name="viewport" content="width=device-width, initial-scale=1"><meta charset="utf-8">
<title>Коды клавиш</title>
<link rel="icon" href="/directories/files/pages-icons/Jbak2Keyboard.png">
<meta name="theme-color" content="#0F131C">
</head><body>
Атрибут android:codes является одним из основных атрибутов, т.к. он реализует <a href="#built-in‐codes">встроенные коды</a>.
<hc>Атрибуты тега &lt;Key /&gt;</hc>
<ul>
<li><tai>android:codes</tai> – атрибут короткого нажатия</li>
<li><tai>android:longCode</tai> – атрибут долгого нажатия</li>
<li><tai>android:comboKeyCodes</tai> – атрибут короткого нажатия, позволяет создавать комбинации кодов</li>
<li><tai>android:longComboKeyCode</tai> – атрибут долгого нажатия, позволяет создавать комбинации кодов</li>
</ul>
Для атрибутов короткого нажатия вы можете указывать несколько кодов, а для атрибутов долгого нажатия только 1; соответственно, для долгого нажатия вы можете задать только одну комбинацию кодов, для короткого же нажатия вы можете задавать несколько комбинаций кодов.
<hc2>Перечисление нескольких кодов</hc2>
В качестве значений атрибутов android:codes и android:comboKeyCodes можно указывать несколько кодов, перечисляя их через запятую без пробела. Тогда при коротких быстрых нажатиях клавиши происходит перебор между указанными кодами.
<br>
Например, код <tai>android:codes="1081,1082,1083"</tai> перебирает буквы <tai>й</tai>, <tai>к</tai> и <tai>л</tai>.
<hc2>Комбинации кодов</hc2>
Атрибуты android:comboKeyCodes и android:longComboKeyCode применяются для организации на одной клавише комбинаций двух кодов: в систему отправляется сразу два кода одновременно.
<br>
Комбинации кодов являются аналогами встроенных кодов:
<ul>
<li>CTRL (<tai>-5113</tai>) + A (<tai>-5029</tai>) – выделить всё</li>
<li>CTRL (<tai>-5113</tai>) + C (<tai>-5031</tai>) – копировать</li>
<li>CTRL (<tai>-5113</tai>) + V (<tai>-5050</tai>) – вставить</li>
<li>CTRL (<tai>-5113</tai>) + X (<tai>-5052</tai>) – вырезать</li>
<li>CTRL (<tai>-5113</tai>) + Y (<tai>-5053</tai>) – redo</li>
<li>CTRL (<tai>-5113</tai>) + Z (<tai>-5054</tai>) – undo</li>
</ul>
Если атрибут android:codes содержит несколько кодов, то и атрибут android:comboKeyCodes должен иметь их столько же или меньше, но не менее одного.
<br>
Если вместо кода в значении атрибута android:comboKeyCodes на определённой позиции указать <tai>0</tai>, то данная позиция считается некомбинируемой и тогда в систему отправляется только код, указанный в значении атрибута android:codes на соответствующей позиции. <tai>0</tai> также можно указывать в качестве значений атрибутов android:longCode и android:longComboKeyCode, но это не имеет смысла. Если же указать <tai>0</tai> на какой‐либо позиции в значении атрибута android:codes, то к этой позиции вообще не будет применяться комбинирование, и даже если на соответствующей позиции в значении атрибута android:comboKeyCodes будет записан какой‐либо код, этот код не будет отправлен в систему.
<br>
Примеры:
<tab>&lt;Key android:keyLabel="sAll" android:codes="-5113"  android:comboKeyCodes="-5029" /&gt;</tab>
Нажатие на клавишу выделит весь текст
<tab>&lt;Key android:keyLabel="sAll\na" android:longCode="-5113"  android:longComboKeyCode="-5029" /&gt;</tab>
Короткое нажатие – введётся буква <tai>а</tai>, долгое нажатие – выделится весь текст.
<hc>Возможные значения атрибутов</hc>
<ol>
<li>Код символа</li>
<li><a href="#built-in‐codes">Встроенный код</a></li>
<li>KeyEvent.KEYCODE</li>
<li><tai>0</tai> — код пустой операции</li>
</ol>
<hc2>Коды символов</hc2>
Код символа можно указывать в десятичной системе счисления либо в шестнадцатиричной системе счисления (если указываете в 16СС, то перед кодом символа добавьте <tai>#</tai> либо <tai>0x</tai>).
Например, код символа <tai>№</tai> можно представить как <tai>8470</tai>, <tai>#2116</tai> или <tai>0x2116</tai>.
Не забывайте про код -633 (см. ниже).
<hc2><a name="built-in‐codes">Встроенные коды</a></hc2>
<ul>
<li>
<tai>19</tai> — перемещение курсора на одну строку выше (<tai>↑</tai>)
</li>
<li>
<tai>20</tai> — перемещение курсора на одну строку ниже (<tai>↓</tai>)
</li>
<li>
<tai>21</tai> — перемещение курсора на один символ влево (<tai>←</tai>)
</li>
<li>
<tai>22</tai> — перемещение курсора на один символ вправо (<tai>→</tai>)
</li>
<li>
<tai>-303</tai> — перемещение курсора в начало всего текста (<tai>toBeg</tai> – to beginning, <tai>to start</tai>; <tai>⇱</tai>; <tai>$f#ɐ</tai>)
</li>
<li>
<tai>-304</tai> — перемещение курсора в конец всего текста (<tai>to end</tai>; <tai>⇲</tai>; <tai>$f#ɑ</tai>)
</li>
<li>
<tai>-305</tai> — перемещение курсора в начало абзаца (<tai>HomePar</tai> – home paragraph)
</li>
<li>
<tai>-306</tai> — перемещение курсора в конец абзаца (<tai>EndPar</tai> – end paragraph)
</li>
<li>
<tai>-326</tai> — перемещение курсора на одну страницу вверх (<tai>PgUp</tai> – page up; <tai>⇈</tai>; <tai>$f#ɶ</tai>)
</li>
<li>
<tai>-327</tai> — перемещение курсора на одну страницу вниз (<tai>PgDn</tai> – page down; <tai>⇊</tai>; <tai>$f#ɷ</tai>)
</li>
<li>
<tai>-328</tai> — перемещение курсора в начало строки (<tai>home</tai>; <tai>⇤</tai>; <tai>$f#ɒ</tai>)
</li>
<li>
<tai>-329</tai> — перемещение курсора в конец строки (<tai>end</tai>; <tai>⇥</tai>; <tai>$f#ɓ</tai>)
</li>
<li>
<tai>-310</tai> — включение/отключение режима выделения (<tai>sel</tai> – select)
</li>
<li>
<tai>-320</tai> — копировать (<tai>cop</tai>, <tai>copy</tai>; <tai>$f#ɢ</tai>). Если на момент нажатия клавиши был выделен какой‐либо текст, этот текст скопируется в буфер обмена; если же на момент нажатия клавиши никакой текст выделен не был, откроется <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> с функциями <un>копирования</un> (не путать с кодом -338).
</li>
<li>
<tai>-321</tai> — вставить (<tai>pas</tai>, <tai>paste</tai>; <tai>$f#ɣ</tai>). Если на момент нажатия клавиши был выделен какой‐либо текст, он заменится на последний скопированный текст; если же на момент нажатия клавиши никакой текст выделен не был, последний скопированный текст просто вставится в местонахождение курсора на момент нажатия клавиши.
</li>
<li>
<tai>-322</tai> — вырезать (<tai>cut</tai>; <tai>$f#ɥ</tai>)
</li>
<li>
<tai>-323</tai> — выделить всё (<tai>sAll</tai>, <tai>SelAll</tai> – select all)
</li>
<li>
<tai>-324</tai> — копировать всё
</li>
<li>
<tai>-325</tai> — показывает размер выделенного текста (<tai>SelSize</tai> – select size). Имейте в виду, что некоторые символы весят более 1 байта, например, смайлики (🇮🇹, 🐬, 🍩), <a href="https://en.wikipedia.org/wiki/Mathematical_Alphanumeric_Symbols">специальные математические символы</a> (&#119816;, &#119897;, &#120703;), &#127243;, &#127244;, &#127279;, &#119070; и т. д., поэтому нельзя сказать, что с помощью данной команды вы можете узнать количество символов в выделенном тексте.
</li>
<li>
<tai>-336</tai> — отменить последнее действие (<tai>undo</tai>; <tai>↶</tai>)
</li>
<li>
<tai>-337</tai> — повторить последнее действие (<tai>redo</tai>; <tai>↷</tai>)
</li>
<li>
<tai>-338</tai> — открывает <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> с функциями <un>выделения</un>
</li>
<li>
<tai>-339</tai> — выделить абзац
</li>
<li>
<tai>-340</tai> — выделить строку
</li>
<li>
<tai>-341</tai> — выделить предложение
</li>
<li>
<tai>-342</tai> — выделить слово
</li>
<li>
<tai>32</tai> — пробел (<tai>space</tai>; <tai>␣</tai>; <tai>$f#ɝ</tai>; см. @wikiarticle_2821)
</li>
<li>
<tai>10</tai> — клавиша Enter (<tai>↲</tai>; <tai>$f#ɠ\n$f#ɜ</tai>; см. @wikiarticle_2821)
</li>
<li>
<tai>9</tai> — табуляция (<tai>tab</tai> – tabulation)
</li>
<li>
<tai>-1</tai> — клавиша Shift (<tai>⇧</tai>; <tai>$f#ɤ\n$f#ɡ</tai>; см. @wikiarticle_2821). <span style="color:#0000AA">Примечание:</span> обязателен атрибут android:isSticky
</li>
<li>
<tai>-5</tai> — клавиша Baсkspace (<tai>⌫</tai>; <tai>$f#ɔ</tai>; см. @wikiarticle_2821). Удаляет символ <un>перед</un> курсором.
</li>
<li>
<tai>-601</tai> — клавиша Delete (<tai>del</tai>, <tai>⌦</tai>; <tai>$f#ɕ</tai>; см. @wikiarticle_2821). Удаляет символ <un>после</un> курсора (если есть).
</li>
<li>
<tai>-602</tai> — удаляет <un>слово</un> <un>перед</un> курсором
</li>
<li>
<tai>-2</tai> — подробнее смотрите @wikiarticle_2795 (<tai>ABC</tai>, <tai>123</tai>)
</li>
<li>
<tai>-3</tai> — свернуть клавиатуру (<tai>cancel</tai>; <tai>$f#ɗ</tai>; см. @wikiarticle_2821)
</li>
<li>
<tai>-20</tai> — если в настройках выбрано 1–3 языка, переключает между сохранёнными в настройках раскладками этих языков по кругу; если 4 и больше – показывает <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> выбора языка.
</li>
<li>
<tai>-21</tai> — показывает <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> выбора языка, сколько бы языков ни было выбрано в настройках.
</li>
<li>
<tai>-22</tai> — переключает между последними двумя языковыми раскладками.
</li>
<li>
<tai>-23</tai> — переключает между сохранёнными в настройках языковыми раскладками по кругу, сколько бы языков ни было выбрано в настройках.
</li>
<li>
<tai>-24</tai> — переключает между сохранёнными в настройках языковыми раскладками по кругу <un>в обратном порядке</un>, сколько бы языков ни было выбрано в настройках.
</li>
<li>
<tai>-500</tai> — главное <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> (<tai>opt</tai> – options)
</li>
<li>
<tai>-511</tai> — настройка показа пунктов главного меню (jbak2 Keyboard → Отображение главного меню)
</li>
<li>
<tai>-501</tai> — голосовой ввод (<tai>$f#ʂ</tai>). При нажатии клавиши с этим кодом программа откроет приложение <a href="https://play.google.com/store/apps/details?id=com.google.android.tts">Speech Services by Google</a>. Произнесите то, что хотите ввести в текстовое поле. После окончания сеанса произношения программа выведет на экран окно с вариантами написания произнесённой вами речи. В зависимости от того, насколько чётко и разборчиво вы говорили, в окне может быть разное количество пунктов (максимальное – 5). Выбранный вами пункт будет вставлен в местонахождение курсора на момент нажатия клавиши.
</li>
<li>
<tai>-502</tai> — откроет <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> с шаблонами (<tai>tpl</tai> – template)
</li>
<li>
<tai>-503</tai> — настройки программы (открытие приложения jbak2 Keyboard)
</li>
<li>
<tai>-504</tai> — откроет <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> с буфером обмена (<tai>clp</tai>, <tai>clip</tai>, <tai>ClpBrd</tai> – clipboard, <tai>CBuf</tai> – buffer). Короткое нажатие на тексте вставляет его в текущее местонахождение курсора; долгое – открывает окно редактирования этого текста.
<br><br>
<span style="color:#0000AA">Примечание:</span>
<br>
Коды -321 (и комбинация CTRL+V), -609, -624, -615 и -617 оперируют именно с последним <un>скопированным</un> текстом, но не с последним текстом в буфере обмена. Это означает, что если вы скопировали в буфер обмена текст <span style="font-family:KaTeX_Math">A</span>, а потом, ничего больше не копируя, зашли в буфер обмена и изменили текст <span style="font-family:KaTeX_Math">A</span> на текст <span style="font-family:KaTeX_Math">B</span>, то указанные коды будут использовать именно текст <span style="font-family:KaTeX_Math">A</span>, а текст <span style="font-family:KaTeX_Math">B</span> вы сможете использовать только лишь через сам буфер.
</li>
<li>
<tai>-507</tai> — экран запуска приложений
</li>
<li>
<tai>-508</tai> и <tai>-515</tai> — смена раскладки языка, которому соответствует префикс последней языковой раскладки (jbak2 Keyboard → Языки и раскладки → «Выбор раскладки» у языка, которому соответствует префикс последней языковой раскладки)
</li>
<li>
<tai>-623</tai> — открывает <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a>, позволяющее сменить раскладку языка, которому соответствует префикс последней языковой раскладки
</li>
<li>
<tai>-512</tai> — смена скина (jbak2 Keyboard → Внешний вид → Скины)
</li>
<li>
<tai>-626</tai> — открывает <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a>, позволяющее сменить скин
</li>
<li>
<tai>-513</tai> — смена клавиатуры (<tai>toInp</tai> – to input)
</li>
<li>
<tai>-514</tai> — подробнее смотрите @wikiarticle_2817
</li>
<li>
<tai>-607</tai> — открывает окно, позволяющее выбрать, будет ли клавиатура открываться в полноэкранном режиме при текущей ориентации телефона
</li>
<li>
<tai>-608</tai> и <tai>-609</tai> — открывают <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> перевода. Нажмите на кнопку «Добавить» и добавьте запись переводчика. Запись переводчика будет открывать Гугл переводчик. Код -608 будет вставлять в переводчик выделенный текст, а код -609 – скопированный. Также вы можете добавить в файл translate.txt в папке jbak2Keyboard исходное значение <tai>auto</tai>, которое будет отправлять в гугл переводчик команду, что он должен автоматически определить язык, с которого переводить.
</li>
<li>
<tai>-610</tai> — запуск раскладки смайликов
</li>
<li>
<tai>-611</tai> — запуск раскладки редактирования текста
</li>
<li>
<tai>-612</tai> — запуск числовой раскладки
</li>
<li>
<tai>-613</tai> — поделиться выделенным
</li>
<li>
<tai>-624</tai> — поделиться скопированным
</li>
<li>
<tai>-614</tai> — поиск выделенного в браузере
</li>
<li>
<tai>-615</tai> — поиск скопированного в браузере
<br><br>
<span style="color:#0000AA">Примечание:</span>
<br>
Коду -614 соответствует специнструкция <tab>$selToUrl[https://google.com/search?q=$st#]</tab>а коду -615 соответствует специнструкция <tab>$selToUrl[https://google.com/search?q=$ct#]</tab>Если же вы хотите открывать выделенную/скопированную <un>ссылку</un> в браузере, то используйте <tai>$selToUrl[$st#]</tai> либо <tai>$selToUrl[$ct#]</tai> соответственно.
</li>
<li>
<tai>-617</tai> — если скопированный текст является положительным числом (максимум девятизначным), открывается <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a>, в котором можно выбрать, какова система счисления данного числа: двоичная, восьмеричная, десятичная или шестнадцатеричная. После выбора варианта откроется новое меню, в котором данное число будет показано в двоичной, восьмеричной, десятичной и шестнадцатеричной системах (нажатие на эти пункты вставляет показываемое число в текущее местонахождение курсора), а также вы сможете вставить в текущее местонахождение курсора символ Unicode, которому соответствует данное число.
</li>
<li>
<tai>-627</tai> — запуск выбора языков и раскладок (jbak2 Keyboard → Языки и раскладки)
</li>
<li>
<tai>-628</tai> — открывает <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a> со всеми раскладками с префиксом hide, находящимися в папке jbak2Keyboard/keyboards
</li>
<li>
<tai>-630</tai> — выводит окно поверх клавиатуры с перечислением символов из <a href="#-630fn">встроенного в клавиатуру шрифта</a>. (<tai>$f#ʍF</tai>) При нажатии на символ производится вставка в текущее местонахождение курсора сразу вместе с <tai>$f#</tai>. 
</li>
<li>
<tai>-632</tai> — выгружает программу из памяти. Программу необходимо выгружать из памяти после каждого обновления, иначе она может работать некорректно. После обновления, при первом же открытии клавиатуры появляется окно, предлагающее вам выгрузить программу из памяти. Если вы случайно не выгрузили программу из памяти с помощью этого окна, то используйте код -632.
</li>
<li>
<tai>-633</tai> — открыть вьювер шрифтов (jbak2 Keyboard → Прочее → Просмотр шрифтов)
</li>
<li>
<tai>-603</tai> — высота клавиатуры (jbak2 Keyboard → Настройки клавиш → Высота и смещение при текущей ориентации телефона)
</li>
<li>
<tai>-11</tai> — декомпиляция. Создаёт папку jbak2Keyboard/keyboards/res, куда помещаются xml файлы всех встроенных раскладок. <span style="color:#0000AA">Примечание:</span> этот код работает только через главное меню (код -500).
</li>
</ul>
<hc2>KeyEvent.KEYCODE</hc2>
<tai>-5<span style="font-family:KaTeX_Math">xxx</span></tai>, где <span style="font-family:KaTeX_Math">xxx</span> — значение <a href="https://developer.android.com/reference/android/view/KeyEvent.html?hl=ru">Constant Value</a>.
<br>
Примеры:
<ul>
<li>
Клавиша CTRL:
<br>
Key code constant: Left Control modifier key.
<br>
Constant Value: 113 (0x00000071)
<br>
Итого, значение <tai>-5113</tai>
</li>
<li>
Буква a:
<br>
Key code constant: 'A' key.
<br>
Constant Value: 29 (0x0000001d)
<br>
Итого, значение <tai>-5029</tai>
</li>
</ul>
<hc2><tai>0</tai> — код пустой операции</hc2>
По ней ничего не делается. Иногда бывает необходима в ваших конструкциях, чтобы желаемое заработало как требуется.
<hr>
<a name="-630fn">jbak2 Keyboard → Внешний вид → Шрифт клавиатуры.<br>По умолчанию включен. Работает на клавишах во второй версии [маленькой клавиатуры]@wikiarticle_2831 и в <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/menu.html">меню</a>.</a>
</body></html>
