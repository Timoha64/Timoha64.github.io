<!DOCTYPE html><html translate="no"><head><link rel="stylesheet" href="/styles.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><meta name="viewport" content="width=device-width, initial-scale=1"><meta charset="utf-8">
<title>Замена</title>
<link rel="icon" href="/directories/files/pages‾icons/Jbak2Keyboard.png">
<meta name="theme-color" content="#0F131C">
</head><body>
Теги <tai>&lt;Replace /&gt;</tai> и <tai>&lt;includeReplace /&gt;</tai> позволяют заменять вводимый текст.
<br><br>
Не являются обязательными.
<br><br>
См. также: <a href="https://timoha64.github.io/directories/pages/Jbak2Keyboard/types‾of‾layouts.html">Типы раскладок</a>.
<hc2>Тег &lt;Replace /&gt;</hc2>
Атрибуты:
<ul>
<li><tai>from</tai> (обязательный)</li>
<li><tai>to</tai> (обязательный)</li>
</ul>
Если вы введёте в текстовое поле символ/набор символов, который является значением атрибута <tai>from</tai> тега <tai>&lt;Replace /&gt;</tai>, то этот символ/набор символов в текстовом поле заменится на символ/набор символов, который является значением атрибута <tai>to</tai> данного тега <tai>&lt;Replace /&gt;</tai>.
<br>
Например, код <tai>&lt;Replace from="а,б 1.2?г" to="abcD)+" /&gt;</tai> будет заменять <tai>а,б 1.2?г</tai> на <tai>abcD)+</tai>.
<hc2>Тег &lt;includeReplace /&gt;</hc2>
<wspl>
<a name="includeReplace">
Тег &lt;includeReplace /&gt; позволяет вынести теги &lt;Replace /&gt; во внешний текстовый файл. Имеет только 1 атрибут(являющийся обязательным) – file, который может [ссылаться]@wikiarticle_2796 на файлы в формате txt.
Внешний файл замен должен состоять только из тегов &lt;Replace /&gt;, каждый из которых должен быть на отдельной строке.
</a>
Пример:
В xml файле раскладки находится код {55FFFF &lt;includeReplace file="Замены.txt" /&gt;}. Этот код ссылается на файл {55FFFF Замены.txt}, находящийся в папке jbak2Keyboard/keyboards. Содержимое файла {55FFFF Замены.txt}:

&lt;Replace from="bb" to="abc"/&gt;
&lt;Replace from="oc" to="?"/&gt;
&lt;Replace from="ss" to="§"/&gt;
&lt;Replace from="pp" to="zzz"/&gt;

Принципы работы

⒈ В xml файле раскладки теги &lt;Replace /&gt; и &lt;includeReplace /&gt; должны быть расположены между последним тегом &lt;/Row&gt; и тегом &lt;/Keyboard&gt;. В промежутке же этом вы можете располагать данные теги в любом порядке.
⒉ Тегов &lt;Replace /&gt; и &lt;includeReplace /&gt; в xml файле раскладки и тегов &lt;Replace /&gt; во внешнем файле замен может быть неограниченное количество.
⒊ Теги считываются в том порядке, в каком они расположены в коде xml файла раскладки.
Пример:
В xml файле раскладки у нас есть код
{55FFFF &lt;Replace from="Кровать" to="Печка1" /&gt;
&lt;includeReplace file="Файл.txt" /&gt;
&lt;Replace from="Кровать" to="Печка4" /&gt;},
а содержимое файла {55FFFF Файл.txt}
{55FFFF &lt;Replace from="Кровать" to="Печка2" /&gt;
&lt;Replace from="Кровать" to="Печка3" /&gt;}
Это значит, что при замене набора символов {55FFFF Кровать} наибольшей приоритетностью будет обладать набор символов {55FFFF Печка1}, затем {55FFFF Печка2}, потом {55FFFF Печка3} и самой низкой приоритетностью – {55FFFF Печка4}.
⒋ Тег &lt;Replace /&gt; работает с учётом регистра.
⒌ Вы можете вводить символы из набора символов, который является значением атрибута from тега &lt;Replace /&gt;, в любом порядке(перемещая курсор в разные позиции), с любых раскладок и даже можете вставлять символы, но последний символ из набора символов должен именно вводиться с помощью клавиш(не вставляться), вводиться самым последним и именно с той раскладки, в коде которой находится данный тег &lt;Replace /&gt;.
Пример:
У нас есть русская и английская раскладки, на обоих из которых кроме букв есть в том числе и цифры. В xml файле русской раскладки есть код {55FFFF &lt;Replace from="Щ3f4%*И" to="Сундук" /&gt;}. Мы вводим {55FFFF 3} с русской раскладки, перемещаем курсор на 1 символ влево, вводим {55FFFF Щ} с русской раскладки, перемещаем курсор на 1 символ вправо, вставляем из буфера обмена {55FFFF %*}, перемещаем курсор на 2 символа влево, переключаемся на английскую раскладку и вводим с неё {55FFFF f4}, перемещаем курсор на 2 символа вправо, переключаемся на русскую раскладку и, наконец, вводим с неё {55FFFF И}. Полученный результат заменится на слово {55FFFF Сундук}, т.к. последний символ был именно введён(не вставлен), причём самым последним и с той раскладки, в коде xml файла которой находится код {55FFFF &lt;Replace from="Щ3f4%*И" to="Сундук" /&gt;}.
⒍ Чем больше вы подключите к раскладке внешних файлов замен с помощью тега &lt;includeReplace /&gt;, тем медленнее будет загружаться раскладка.

</wspl>
</body></html>

